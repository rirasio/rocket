 {{>layout/header}}

<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>


<div class="card-header py-3">
	<h6 class="m-0 font-weight-bold text-primary">클래스</h6>
</div>


<div class="content">
	<form id="operForm" method="get">

		<input type="hidden" name="num" value="{{class.num}}">
		<label>클래스 명</label>
		<input type="text" name="title" value="{{class.title}}" readonly="readonly">
		<br>
		<label>클래스 내용</label>
		<textarea name="intro" readonly="readonly">{{class.intro}}</textarea>
		<br>
		<input type="hidden" name="regdate" value="{{class.regdate}}">
		<input type="hidden" name="modidate" value="{{class.modidate}}">
		
		<div>
			
		</div>
		
		<!-- 렉처 리스트 -->
		<br>
			<div class="card shadow mb-4">
				<div class="card-header py-3">
					<span class="text float-left">강의 목록</span>
					<span class="float-right">
						<a href="/lec/create?class_num={{class_num}}" class="btn btn-primary btn-icon-split btn-sm">
							<span class="icon text-white-50">
								<i class="fas fa-flag"></i>
							</span>
							<span class="text">등록</span>
						</a>
					
					</span>
				</div>
				<div class="card-body">
					<div class="table-responsive">
						<table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
							<thead>
								<tr>
									<th>num</th>
									<th>title</th>
									<th>video</th>
									<th>regdate</th>
									<th>modidate</th>
									<th>clickcnt</th>
									<th>class_num</th>
									<th>order</th>
								</tr>
							</thead>
							<tfoot>
								<tr>
									<th>num</th>
									<th>title</th>
									<th>video</th>
									<th>regdate</th>
									<th>modidate</th>
									<th>clickcnt</th>
									<th>class_num</th>
									<th>order</th>
								</tr>
							</tfoot>
							{{#list}}
							<tbody>
								<tr>
									<td>{{num}}</td>
									<td><a href="/lec/read?num={{num}}">{{title}}</a></td>
									<td>{{video}}</td>
									<td>{{regdate}}</td>
									<td>{{modidate}}</td>
									<td>{{clickcnt}}</td>
									<td>{{class_num}}</td>
									<td>{{lorder}}</td>
								</tr>
							</tbody>
							{{/list}}
						</table>
					</div>
				</div>
			</div>
		<br>
		<!-- 렉처 리스트 끝 -->
		
 	
		<label>썸네일</label>
		<input type="text" name="thumbnail" value="{{class.thumbName}}.{{class.thumbType}}">
		<br> <label>커리큘럼</label>
		<input type="text" name="curriculum" value="{{class.fileName}}.{{class.thumbType}}">
		<br>
		<input type="hidden" name="filename" value="{{class.fileName}}">
		<input type="hidden" name="filetype" value="{{class.fileType}}">
		<input type="hidden" name="filepath" value="{{class.filePath}}">
		<input type="hidden" name="thumbname" value="{{class.thumbName}}">
		<input type="hidden" name="thumbtype" value="{{class.thumbType}}">
		<input type="hidden" name="thumbpath" value="{{class.thumbPath}}">
		
		<button data-oper="update" class="btn btn-default">Update</button>
		<button data-oper="list" class="btn btn-info">List</button>



	</form>
</div>


<script>
	$(document).ready(function() {

		var operForm = $("#operForm");

		$("button[data-oper='update']").on("click", function(e) {
			operForm.attr("action", "/classes/update").submit();
		});

		$("button[data-oper='list']").on("click", function(e) {
			operForm.find("#bno").remove();
			operForm.attr("action", "/classes/list")
			operForm.submit();
		});
	});
</script>

{{>layout/footer}}

<!-- 진형 
class 상세보기 화면에서 lecture 만들기로 넘어갈 때 
{{class.num}}의 파라미터이름을 name="class_num"으로 
넘겨주세요. 이 내용은 확인하시고 지우셔도 됩니다.
-->